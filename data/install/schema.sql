CREATE TABLE omeka_user (id INT AUTO_INCREMENT NOT NULL, username VARCHAR(255) NOT NULL, UNIQUE INDEX UNIQ_AACC6A08F85E0677 (username), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE omeka_vocabulary (id INT AUTO_INCREMENT NOT NULL, owner_id INT DEFAULT NULL, namespace_uri VARCHAR(255) NOT NULL, `label` VARCHAR(255) NOT NULL, comment LONGTEXT DEFAULT NULL, UNIQUE INDEX UNIQ_2FC6BA369B267FDF (namespace_uri), INDEX IDX_2FC6BA367E3C61F9 (owner_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE omeka_resource (id INT AUTO_INCREMENT NOT NULL, owner_id INT DEFAULT NULL, resource_class_id INT NOT NULL, resource_type VARCHAR(255) NOT NULL, INDEX IDX_CB5438CA7E3C61F9 (owner_id), INDEX IDX_CB5438CA448CC1BD (resource_class_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE omeka_file (id INT AUTO_INCREMENT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE omeka_item (id INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE omeka_item_set (id INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE omeka_site (id INT AUTO_INCREMENT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE omeka_resource_class_property (id INT AUTO_INCREMENT NOT NULL, assigner_id INT DEFAULT NULL, resource_class_id INT NOT NULL, property_id INT NOT NULL, alternate_label VARCHAR(255) DEFAULT NULL, alternate_comment LONGTEXT DEFAULT NULL, INDEX IDX_70BC07AA94221246 (assigner_id), INDEX IDX_70BC07AA448CC1BD (resource_class_id), INDEX IDX_70BC07AA549213EC (property_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE omeka_property (id INT AUTO_INCREMENT NOT NULL, owner_id INT DEFAULT NULL, vocabulary_id INT DEFAULT NULL, local_name VARCHAR(255) DEFAULT NULL, `label` VARCHAR(255) NOT NULL, comment LONGTEXT DEFAULT NULL, INDEX IDX_FC37D0027E3C61F9 (owner_id), INDEX IDX_FC37D002AD0E05F6 (vocabulary_id), UNIQUE INDEX vocabulary_local_name (vocabulary_id, local_name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE omeka_media (id INT NOT NULL, item_id INT NOT NULL, file_id INT DEFAULT NULL, type VARCHAR(255) NOT NULL, data LONGTEXT DEFAULT NULL, INDEX IDX_6BD08FB6126F525E (item_id), UNIQUE INDEX UNIQ_6BD08FB693CB796C (file_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE omeka_resource_class (id INT AUTO_INCREMENT NOT NULL, owner_id INT DEFAULT NULL, vocabulary_id INT DEFAULT NULL, local_name VARCHAR(255) DEFAULT NULL, `label` VARCHAR(255) NOT NULL, comment LONGTEXT DEFAULT NULL, resource_type VARCHAR(255) DEFAULT NULL, is_default TINYINT(1) DEFAULT NULL, INDEX IDX_9FC4DAC27E3C61F9 (owner_id), INDEX IDX_9FC4DAC2AD0E05F6 (vocabulary_id), UNIQUE INDEX default_resource_type (resource_type, is_default), UNIQUE INDEX vocabulary_local_name (vocabulary_id, local_name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE omeka_site_resource (id INT AUTO_INCREMENT NOT NULL, assigner_id INT DEFAULT NULL, site_id INT NOT NULL, resource_id INT NOT NULL, INDEX IDX_375833B094221246 (assigner_id), INDEX IDX_375833B0F6BD1646 (site_id), INDEX IDX_375833B089329D25 (resource_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE omeka_value (id INT AUTO_INCREMENT NOT NULL, owner_id INT DEFAULT NULL, resource_id INT NOT NULL, property_id INT NOT NULL, value_resource_id INT DEFAULT NULL, type VARCHAR(255) NOT NULL, value LONGTEXT DEFAULT NULL, value_transformed LONGTEXT DEFAULT NULL, lang VARCHAR(255) DEFAULT NULL, is_html TINYINT(1) NOT NULL, INDEX IDX_1C8B768E7E3C61F9 (owner_id), INDEX IDX_1C8B768E89329D25 (resource_id), INDEX IDX_1C8B768E549213EC (property_id), INDEX IDX_1C8B768E4BC72506 (value_resource_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE omeka_vocabulary ADD CONSTRAINT FK_2FC6BA367E3C61F9 FOREIGN KEY (owner_id) REFERENCES omeka_user (id);
ALTER TABLE omeka_resource ADD CONSTRAINT FK_CB5438CA7E3C61F9 FOREIGN KEY (owner_id) REFERENCES omeka_user (id);
ALTER TABLE omeka_resource ADD CONSTRAINT FK_CB5438CA448CC1BD FOREIGN KEY (resource_class_id) REFERENCES omeka_resource_class (id);
ALTER TABLE omeka_item ADD CONSTRAINT FK_3844995FBF396750 FOREIGN KEY (id) REFERENCES omeka_resource (id) ON DELETE CASCADE;
ALTER TABLE omeka_item_set ADD CONSTRAINT FK_76C49232BF396750 FOREIGN KEY (id) REFERENCES omeka_resource (id) ON DELETE CASCADE;
ALTER TABLE omeka_resource_class_property ADD CONSTRAINT FK_70BC07AA94221246 FOREIGN KEY (assigner_id) REFERENCES omeka_user (id);
ALTER TABLE omeka_resource_class_property ADD CONSTRAINT FK_70BC07AA448CC1BD FOREIGN KEY (resource_class_id) REFERENCES omeka_resource_class (id);
ALTER TABLE omeka_resource_class_property ADD CONSTRAINT FK_70BC07AA549213EC FOREIGN KEY (property_id) REFERENCES omeka_property (id);
ALTER TABLE omeka_property ADD CONSTRAINT FK_FC37D0027E3C61F9 FOREIGN KEY (owner_id) REFERENCES omeka_user (id);
ALTER TABLE omeka_property ADD CONSTRAINT FK_FC37D002AD0E05F6 FOREIGN KEY (vocabulary_id) REFERENCES omeka_vocabulary (id);
ALTER TABLE omeka_media ADD CONSTRAINT FK_6BD08FB6126F525E FOREIGN KEY (item_id) REFERENCES omeka_item (id);
ALTER TABLE omeka_media ADD CONSTRAINT FK_6BD08FB693CB796C FOREIGN KEY (file_id) REFERENCES omeka_file (id);
ALTER TABLE omeka_media ADD CONSTRAINT FK_6BD08FB6BF396750 FOREIGN KEY (id) REFERENCES omeka_resource (id) ON DELETE CASCADE;
ALTER TABLE omeka_resource_class ADD CONSTRAINT FK_9FC4DAC27E3C61F9 FOREIGN KEY (owner_id) REFERENCES omeka_user (id);
ALTER TABLE omeka_resource_class ADD CONSTRAINT FK_9FC4DAC2AD0E05F6 FOREIGN KEY (vocabulary_id) REFERENCES omeka_vocabulary (id);
ALTER TABLE omeka_site_resource ADD CONSTRAINT FK_375833B094221246 FOREIGN KEY (assigner_id) REFERENCES omeka_user (id);
ALTER TABLE omeka_site_resource ADD CONSTRAINT FK_375833B0F6BD1646 FOREIGN KEY (site_id) REFERENCES omeka_site (id);
ALTER TABLE omeka_site_resource ADD CONSTRAINT FK_375833B089329D25 FOREIGN KEY (resource_id) REFERENCES omeka_resource (id);
ALTER TABLE omeka_value ADD CONSTRAINT FK_1C8B768E7E3C61F9 FOREIGN KEY (owner_id) REFERENCES omeka_user (id);
ALTER TABLE omeka_value ADD CONSTRAINT FK_1C8B768E89329D25 FOREIGN KEY (resource_id) REFERENCES omeka_resource (id);
ALTER TABLE omeka_value ADD CONSTRAINT FK_1C8B768E549213EC FOREIGN KEY (property_id) REFERENCES omeka_property (id);
ALTER TABLE omeka_value ADD CONSTRAINT FK_1C8B768E4BC72506 FOREIGN KEY (value_resource_id) REFERENCES omeka_resource (id);

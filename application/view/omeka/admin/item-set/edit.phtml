<?php
$this->htmlElement('body')->appendAttribute('class', 'edit item-set');
$escapeAttr = $this->plugin('escapeHtmlAttr');
$this->headScript()->appendFile($this->assetUrl('js/resource-form.js', 'Omeka'));
$form->prepare();
$formLabel = $this->plugin('formLabel');
$formElement = $this->plugin('formElement');
?>

<script type='text/javascript'>
var valuesJson = <?php echo $values; ?>;
var selectedItemValueJson;
</script>

<h1><?php echo $this->translate('Edit item set'); ?></h1>
<?php 
if (isset($errors)) {
    print_r($errors);
}
?>

<nav class="section-nav">
    <ul>
        <li><a href="#" class="resource-values section active">Values</a></li>
        <li><a href="#" class="item-media section">Media</a></li>
        <li><a href="#" class="item-visibility section">Visibility</a></li>
    </ul>
</nav>

<form method='post' id='edit-item-set'>
    <?php 
        //produces a <fieldset> with the id and class atts passed in.
        //on, e.g., the item add/edit pages, the id will work with the classes on 
        //the nav lis above. (see globals.js)  
        echo $this->partial(
                'common/resource-fields.phtml',
                array('id' => 'resource-values', 'class' => 'section active', 'resource' => $itemSet )
                );
    ?>

    <fieldset id="save-sidebar">
        <input type="submit" name="add-item-submit" value="Update item set" />
        <a href="#" class="cancel button">Cancel</a>
    </fieldset>
    <?php echo $this->formElement($form->get('csrf')); ?>
</form>


<?php 
        echo $this->partial('common/resource-form-templates.phtml');
?>
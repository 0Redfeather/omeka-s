<?php
$this->htmlElement('body')->appendAttribute('class', 'media show sidebar-open');
$escape = $this->plugin('escapeHtml');
$escapeAttr = $this->plugin('escapeHtmlAttr');
?>
<h1><?php echo sprintf($this->translate('Media: “%s”'), $escape($media->displayTitle())); ?></h1>
<div id="page-actions">
    <?php echo $media->link($this->translate('Edit media'), 'edit', array('class' => 'button')); ?>
</div>


<div id="item-metadata" class="active section">
    <div class="media-render">
    <?php echo $media->render(); ?>
    </div>
    <?php if ( $media->resourceClass()): ?>
        <div class="property">
            <h4>Class</h4>
            <div class="value"><?php echo $media->resourceClass()->label(); ?></div>
        </div>
    <?php endif; ?>
    <?php echo $media->displayValues(); ?>
</div>

<div class="sidebar active">
    <div class="property">
        <h4>Date Created</h4>
        <div class="value"><?php echo $escape($this->i18n()->dateFormat($media->created())); ?></div>
    </div>
    <div class="property">
        <h4>Part of Item</h4>
        <?php $mediaItem = $media->item(); ?>
        <div class="value"><?php echo $mediaItem->link($mediaItem->displayTitle()); ?></div>
    </div>
    <div class="property">
        <h4>Visibility</h4>
        <div class="value"><?php echo ($media->isPublic()) ? $this->translate('Public') : $this->translate('Private'); ?></div>
    </div>
    <div class="property">
        <h4>Type</h4>
        <div class="value"><?php echo $media->type(); ?></div>
    </div>
    <div class="property">
        <h4>Source</h4>
        <div class="value"><span class="source-type"><?php echo $media->type(); ?></span>: <?php echo $media->source(); ?></div>
    </div>
    <?php if ($media->mediaType()): ?>
    <div class="property">
        <h4>MIME Type</h4>
        <div class="value"><?php echo $media->mediaType(); ?></div>
    </div>
    <?php endif; ?>
    <?php if ($media->hasThumbnails() || $media->hasOriginal()): ?>
    <div class="property">
        <h4>File Derivatives</h4>
        <?php if ($media->hasOriginal()): ?>
            <div class="value"><a href="<?php echo $media->originalUrl(); ?>">original</a></div>
        <?php endif; ?>
        <?php if ($media->hasThumbnails()): ?>
            <div class="value"><a href="<?php echo $media->thumbnailUrl('large'); ?>">large</a></div>
            <div class="value"><a href="<?php echo $media->thumbnailUrl('medium'); ?>">medium</a></div>
            <div class="value"><a href="<?php echo $media->thumbnailUrl('square'); ?>">square</a></div>
        <?php endif; ?>
    </div>
    <?php endif; ?>
</div>

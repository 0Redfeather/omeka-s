<?php
$this->headLink()->prependStylesheet($this->assetUrl('css/advanced-search.css', 'Omeka'));

$partials = [
    'common/advanced-search/resource-class',
    'common/advanced-search/properties',
    'common/advanced-search/site-pool',
];

$filterResults = $this->trigger(
    'view.advanced_search',
    [
        'query' => isset($query) ? $query : null,
        'resourceType' => isset($resourceType) ? $resourceType : null,
        'partials' => $partials,
    ],
    true
);
$partials = $filterResults['partials'];

foreach ($partials as $partial) {
    echo $this->partial($partial, ['query' => $query]);
}
?>
